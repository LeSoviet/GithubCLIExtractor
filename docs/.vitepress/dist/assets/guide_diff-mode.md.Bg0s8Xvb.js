import{_ as i,c as a,o as e,ae as t}from"./chunks/framework.CQLyKG-U.js";const k=JSON.parse('{"title":"Diff Mode (Incremental Exports)","description":"","frontmatter":{},"headers":[],"relativePath":"guide/diff-mode.md","filePath":"guide/diff-mode.md"}'),n={name:"guide/diff-mode.md"};function l(o,s,r,h,p,d){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="diff-mode-incremental-exports" tabindex="-1">Diff Mode (Incremental Exports) <a class="header-anchor" href="#diff-mode-incremental-exports" aria-label="Permalink to &quot;Diff Mode (Incremental Exports)&quot;">​</a></h1><p>GitHub Extractor CLI v0.4.0 introduced revolutionary diff mode (also called incremental exports), which dramatically reduces API calls and export times by exporting only new or updated items since the last run.</p><h2 id="why-diff-mode" tabindex="-1">Why Diff Mode? <a class="header-anchor" href="#why-diff-mode" aria-label="Permalink to &quot;Why Diff Mode?&quot;">​</a></h2><p>When regularly exporting repository data, you often only need the new or updated items rather than re-exporting everything. Diff mode solves this by:</p><ul><li>Reducing API calls by 80-95% on subsequent exports</li><li>Making exports 10x faster for large repositories</li><li>Minimizing impact on GitHub rate limits</li><li>Maintaining persistent state for intelligent tracking</li></ul><h2 id="how-it-works" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How It Works&quot;">​</a></h2><p>Diff mode automatically tracks the last export timestamp for each repository and export type. On subsequent runs with <code>--diff</code>, it will:</p><ul><li>✅ Only fetch items updated since the last export</li><li>✅ Skip unchanged items</li><li>✅ Maintain incremental state in <code>~/.ghextractor/state/exports.json</code></li></ul><h3 id="implementation-details" tabindex="-1">Implementation Details <a class="header-anchor" href="#implementation-details" aria-label="Permalink to &quot;Implementation Details&quot;">​</a></h3><ul><li><strong>Pull Requests &amp; Issues</strong>: Filters by <code>updatedAt</code> date</li><li><strong>Commits</strong>: Uses GitHub API&#39;s <code>since</code> parameter for optimal performance</li><li><strong>Branches</strong>: Filters by last commit date</li><li><strong>Releases</strong>: Filters by <code>publishedAt</code> date</li></ul><h2 id="quick-start" tabindex="-1">Quick Start <a class="header-anchor" href="#quick-start" aria-label="Permalink to &quot;Quick Start&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># First run: Full export (creates baseline state)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ghextractor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --diff</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Second run: Only exports new/updated items since last run</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ghextractor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --diff</span></span></code></pre></div><h2 id="command-line-options" tabindex="-1">Command Line Options <a class="header-anchor" href="#command-line-options" aria-label="Permalink to &quot;Command Line Options&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Option</th><th>Alias</th><th>Description</th></tr></thead><tbody><tr><td><code>--diff</code></td><td><code>--incremental</code></td><td>Enable incremental export mode</td></tr><tr><td><code>--force-full</code></td><td></td><td>Force full export even if previous state exists</td></tr></tbody></table><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h2><h3 id="basic-diff-export" tabindex="-1">Basic Diff Export <a class="header-anchor" href="#basic-diff-export" aria-label="Permalink to &quot;Basic Diff Export&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ghextractor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --diff</span></span></code></pre></div><h3 id="force-full-export" tabindex="-1">Force Full Export <a class="header-anchor" href="#force-full-export" aria-label="Permalink to &quot;Force Full Export&quot;">​</a></h3><p>Even with diff mode enabled, you can force a full export:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ghextractor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --diff</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force-full</span></span></code></pre></div><h3 id="combine-with-other-options" tabindex="-1">Combine with Other Options <a class="header-anchor" href="#combine-with-other-options" aria-label="Permalink to &quot;Combine with Other Options&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Diff mode with custom output and both formats</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ghextractor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --diff</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> both</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./exports</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --verbose</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Diff mode with date filtering</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ghextractor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --diff</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --since</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2024-01-01</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Diff mode with label filtering</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ghextractor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --diff</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --labels</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bug,enhancement</span></span></code></pre></div><h2 id="state-management" tabindex="-1">State Management <a class="header-anchor" href="#state-management" aria-label="Permalink to &quot;State Management&quot;">​</a></h2><p>Diff mode maintains state in <code>~/.ghextractor/state/exports.json</code> with information about:</p><ul><li>Last export timestamp for each repository</li><li>Last export timestamp for each export type</li><li>Successful completion status</li></ul><h3 id="state-file-structure" tabindex="-1">State File Structure <a class="header-anchor" href="#state-file-structure" aria-label="Permalink to &quot;State File Structure&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;owner/repo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;prs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-11-21T10:30:00Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;issues&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-11-20T15:45:00Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;commits&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-11-19T09:15:00Z&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="manual-state-management" tabindex="-1">Manual State Management <a class="header-anchor" href="#manual-state-management" aria-label="Permalink to &quot;Manual State Management&quot;">​</a></h3><p>You can manually edit or reset the state file if needed:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># View current state</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ghextractor/state/exports.json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Reset state for a specific repository (forces full export next time)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Edit the file to remove or modify timestamps</span></span></code></pre></div><h2 id="batch-processing-integration" tabindex="-1">Batch Processing Integration <a class="header-anchor" href="#batch-processing-integration" aria-label="Permalink to &quot;Batch Processing Integration&quot;">​</a></h2><p>Diff mode works seamlessly with batch processing:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Batch export with incremental mode</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ghextractor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --batch-repos</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;repo1,repo2,repo3&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --diff</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># In JSON configuration</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;repositories&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;repo1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;repo2&quot;],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;diffMode&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><ol><li><strong>First Run</strong>: Always run with diff mode enabled for the first export to establish baseline state</li><li><strong>Regular Updates</strong>: Use diff mode for regular updates to minimize API usage</li><li><strong>Periodic Full Exports</strong>: Occasionally run with <code>--force-full</code> to ensure data completeness</li><li><strong>State Backup</strong>: Consider backing up your state file if you rely heavily on incremental exports</li><li><strong>Error Recovery</strong>: If an export fails, the state won&#39;t be updated, so the next diff export will include the missed items</li></ol><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><h3 id="state-conflicts" tabindex="-1">State Conflicts <a class="header-anchor" href="#state-conflicts" aria-label="Permalink to &quot;State Conflicts&quot;">​</a></h3><p>If you encounter issues with incremental exports:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Force a full export to reset state</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ghextractor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --diff</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force-full</span></span></code></pre></div><h3 id="missing-items" tabindex="-1">Missing Items <a class="header-anchor" href="#missing-items" aria-label="Permalink to &quot;Missing Items&quot;">​</a></h3><p>If you suspect items are missing from incremental exports:</p><ol><li>Check the state file timestamps</li><li>Verify the item&#39;s update timestamp is after the last export</li><li>Run with <code>--verbose</code> to see detailed filtering information</li></ol><h3 id="performance-issues" tabindex="-1">Performance Issues <a class="header-anchor" href="#performance-issues" aria-label="Permalink to &quot;Performance Issues&quot;">​</a></h3><p>For very large repositories:</p><ol><li>Use <code>--verbose</code> to monitor API usage</li><li>Consider combining with date filters (<code>--since</code>, <code>--until</code>)</li><li>Monitor GitHub rate limits during export</li></ol>`,45)])])}const u=i(n,[["render",l]]);export{k as __pageData,u as default};
